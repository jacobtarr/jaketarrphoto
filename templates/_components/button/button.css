@reference "tailwindcss";
@reference "@css/tokens.css";

@layer base {
  button,
  [role="button"] {
    @apply cursor-pointer;
  }
}

@layer components {
  .c-button {
    @apply inline-flex items-center font-sans border-0 leading-4 rounded-full
          transition-colors duration-150 ease-in-out;

    /* child paths transition */
    svg path { @apply transition-colors duration-150 ease-in-out; }
  }

  /* ===========================
    Black / Dark contexts
    ( &--black, html.u-dark-mode &, .block--bg-black & )
    =========================== */
  .c-button--black,
  html.u-dark-mode .c-button,
  .block--bg-black .c-button {
    @apply border-white bg-gray-900 text-white;

    svg path { @apply fill-gray-100 stroke-gray-100; }

    &:hover,
    &:focus {
      @apply text-gray-900 bg-gray-100;
      svg path { @apply fill-gray-900 stroke-gray-900; }
    }
  }

  /* ===========================
    Primary ( &--primary )
    =========================== */
  .c-button--primary {
    @apply px-5 pt-[12px] pb-[12px] justify-center items-center gap-3
          text-sm md:text-[15px] bg-gray-100 text-gray-700;

    svg {
      @apply w-3 md:w-4;
    }

    &:hover {
      @apply bg-gray-900 text-gray-100;
      svg path {
        @apply fill-gray-100;
      }
    }
  }

  /* Primary Large ( &--primary > &--large => .c-button--primary--large ) */
  .c-button--primary--large {
    @apply pt-[14px] pb-[14px] text-base;

    svg {
      @apply w-4 md:w-5;
    }
  }

  /* Primary Beige ( &--primary > &--beige => .c-button--primary--beige ) */
  .c-button--primary--beige {
    @apply text-gray-100 bg-beige-400;
    svg path { @apply fill-gray-100; }
  }

  /* ===========================
    Secondary ( &--secondary )
    =========================== */
  .c-button--secondary {
    @apply font-semibold text-sm md:text-base relative bg-transparent
          border border-solid border-gray-900 overflow-hidden;

    svg {
      @apply w-3 md:w-4;

      path {
        @apply fill-gray-100;
      }
    }

    .c-button__icon-wrap {
      @apply flex items-center justify-center w-[30px] h-[30px]
            md:w-[34px] md:h-[34px] rounded-full bg-gray-900 relative left-[-4px];

      transition: translate 0.4s ease-in-out;
    }
    .c-button__icon-wrap--left {
      @apply absolute left-[-34px];
    }

    span {
      @apply pl-6 pt-[11px] pb-[11px] md:pt-[13px] md:pb-[13px] pr-[18px];
      transition: translate 0.4s ease-in-out;
    }

    &:hover {
      @apply bg-gray-900 text-gray-100;

      span {
        @apply translate-x-[26px] md:translate-x-[30px];
      }

      .c-button__icon-wrap {
        @apply translate-x-[38px];

        &.c-button__icon-wrap--left {
          @apply bg-gray-100;

          svg path {
            @apply fill-gray-900;
          }
        }
      }
    }
  }

  /* Secondary Beige ( &--beige ) */
  .c-button--secondary--beige,
  .block--bg-beige .c-button {
    @apply text-beige-400 border-beige-400;

    .c-button__icon-wrap {
      @apply bg-beige-400;
    }

    svg path {
      @apply fill-beige-100;
    }

    &:hover {
      @apply text-beige-100 bg-beige-400;

      .c-button__icon-wrap--left {
        @apply bg-beige-100;

        svg path {
          @apply fill-beige-400;
        }
      }
    }
  }

  /* Secondary White ( &--white ) */
  .c-button--secondary--white {
    @apply text-gray-100 border-gray-100;

    &:hover {
      @apply bg-transparent;
    }

    .c-button__icon-wrap { @apply bg-gray-100; }
    svg path { @apply fill-gray-900; }
  }

  /* Primarily used for hero */
  .c-button--secondary--large {
    span {
      @apply lg:pt-[15px] lg:pb-[15px] lg:pr-[22px];
    }

    .c-button__icon-wrap {
      @apply lg:w-[36px] lg:h-[36px] lg:left-[-6px];
    }

    .c-button__icon-wrap--left {
      @apply lg:left-[-38px];
    }

    &:hover {
      span {
        @apply lg:translate-x-[34px];
      }

      .c-button__icon-wrap {
        @apply lg:translate-x-[44px];
      }
    }
  }

  .c-button--arrow-down {
    svg {
      @apply rotate-90;
    }
  }

  @media (max-width: calc(theme(screens.md) - 1px)) {
    .c-button--mobile-toggle {
      @apply h-12 uppercase tracking-widest text-xs md:text-sm font-founders font-semibold leading-4
      bg-transparent w-full justify-between rounded-none p-4;

      &:hover {
        @apply bg-transparent text-inherit;

        svg path {
          fill: initial;
          stroke: initial;
        }
      }
    }
  }
}

.c-button-group {
  @apply flex flex-wrap gap-6;
}