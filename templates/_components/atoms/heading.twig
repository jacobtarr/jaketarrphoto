{% set underlineClass = not heading.underline is defined or heading.underline ? ' o-heading--underline' : '' %}
{% set additionalClasses = heading.classes is defined and heading.classes ? ' ' ~ heading.classes : '' %}
{% set headingTag = heading.tag is defined and heading.tag ? heading.tag : 'h1' %}
{% set attrs = heading.attrs ?? {} %}

{% if heading.text %}
  {% set titleWords = heading.text|split(' ') %}
  <{{ headingTag }} class="o-heading{{ underlineClass }}{{ additionalClasses }}"
    {% for key, value in attrs %}
      {{ key }}="{{ value is iterable ? value|join(',') : value }}"
    {% endfor %}
  >
    {{ heading.text|raw }}
  </{{ headingTag }}>
{% endif %}
