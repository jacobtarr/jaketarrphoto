{% set underlineClass = not heading.underline is defined or heading.underline ? ' o-heading--underline' : '' %}
{% set additionalClasses = heading.classes is defined and heading.classes ? ' ' ~ heading.classes : '' %}
{% set headingTag = heading.tag is defined and heading.tag ? heading.tag : 'h1' %}

{% if heading.text %}
  {% set titleWords = heading.text|split(' ') %}
  <{{ headingTag }} class="o-heading{{ underlineClass }}{{ additionalClasses }}" {{ heading.xClass ?? ''|raw }}>
    {% for word in titleWords %}
      {% if loop.last %}
        {% if titleWords|length > 1 %}
          <span class="text-red-500">{{ word|raw ~ '.' }}</span>
        {% else %}
          {{ word|raw ~ '.' }}
        {% endif %}
      {% else %}
        {{ word|raw }}
      {% endif %}
    {% endfor %}
  </{{ headingTag }}>
{% endif %}
