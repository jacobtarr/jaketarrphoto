{% set tag = icon.tag ?? 'span' %}
{% set additionalClasses = icon.classes is defined and icon.classes ? ' ' ~ icon.classes : '' %}
{% set attrs = icon.attrs ?? {} %}

{% if tag == 'a' %}
  {% set attrs = attrs|merge({
    href: icon.url ?? '#',
    target: icon.target ?? '_self'
  }) %}
{% endif %}

<{{ tag }} class="o-icon{{ additionalClasses }}"
  {% for key, value in attrs %}
    {{ key }}="{{ value is iterable ? value|join(',') : value }}"
  {% endfor %}
>
  {% if icon.name is defined and icon.name %}
    {% include '_components/atoms/icons/icon-' ~ icon.name ~ '.svg' ignore missing %}
  {% endif %}
</{{ tag }}>