{% macro renderFilter(title, options, selectedOptions, inputName, extraAttrs) %}
  {% set formSelector = extraAttrs['formSelector'] ?? '#filters-form' %}
  <div class="c-filter-section space-y-4">
    {% include '_components/kicker/kicker.twig' with {
      kicker: {
        text: title,
        classes: 'c-filter-section__title'
      }
    } %}
    <div class="c-filter-section__form-group c-form-group">
      {% for option in options %}
        {% include '_components/checkbox/checkbox.twig' with {
          checkbox: {
            id: inputName ~ '-' ~ option.id,
            name: inputName ~ '[]',
            value: option.slug,
            label: option.title,
            checked: option.slug in selectedOptions,
            useFacetHelper: true,
            formSelector: formSelector,
            attrs: extraAttrs|filter((v,k)=>k!='formSelector')
          }
        } %}
      {% endfor %}
    </div>
  </div>
{% endmacro %}
